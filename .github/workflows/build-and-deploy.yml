# CodeBuild is triggered directly by GitHub webhooks
# No AWS credentials needed in GitHub Actions
# 
# To verify webhook is working:
# 1. Check GitHub repository Settings â†’ Webhooks
# 2. Verify CodeBuild webhook is active and receiving events
# 3. Check AWS CodeBuild console for build status

name: Build and Deploy with CodeBuild

on:
  push:
    branches:
      - main
      - master
  workflow_dispatch:

jobs:
  info:
    name: CodeBuild Webhook Info
    runs-on: ubuntu-latest
    steps:
      - name: CodeBuild Webhook Information
        run: |
          echo "ğŸ”” CodeBuild is triggered directly via GitHub webhook"
          echo "ğŸ“¦ Commit: ${{ github.sha }}"
          echo "ğŸŒ¿ Branch: ${{ github.ref }}"
          echo ""
          echo "âœ… No AWS credentials needed in GitHub Actions"
          echo "ğŸ“Š Check AWS CodeBuild console for build status:"
          echo "   https://eu-north-1.console.aws.amazon.com/codesuite/codebuild/projects/wise-trader-delpoyement"
          echo ""
          echo "ğŸ” To verify webhook is working:"
          echo "   1. Go to GitHub â†’ Settings â†’ Webhooks"
          echo "   2. Look for CodeBuild webhook"
          echo "   3. Check recent deliveries"
